EmojiWeather=function(n){return{emptyForm:function(){var t=n(".js-search");t.hasClass("js-search-success")&&t.find('input[name="q"]').val("")},submitSeachForm:function(){var t=n(".js-search"),e=t.find(":submit");t.on("submit",function(){var n=e.find("svg").prop("outerHTML"),t=["Searching","Searching.","Searching..","Searching..."],i=0;setInterval(function(){e.html(n+t[i]),i<t.length-1?i++:i=0},300)})},geolocateAndSubmit:function(){n(".js-geolocate").on("click",function(){var t=n(".js-search"),e=t.find('input[name="q"]'),i=["Locating","Locating.","Locating..","Locating..."],o=0,a=setInterval(function(){e.val(i[o]),o<i.length-1?o++:o=0},300);if("geolocation"in window.navigator&&t.length){var c=function(n){clearInterval(a);var i=n.coords.latitude,o=n.coords.longitude;e.val(i+", "+o),t.trigger("submit")},r=function(n){console.warn(n.code,n.message)},s={enableHighAccuracy:!0,timeout:5e3,maximumAge:0};navigator.geolocation.getCurrentPosition(c,r,s)}})},insertDateTime:function(t){setInterval(function(){n(".js-moment").text(moment().tz(t).format("MMMM Do, YYYY, h:mm:ss A"))},1e3)},init:function(){var n=this;n.emptyForm(),n.submitSeachForm(),n.geolocateAndSubmit()}}}(jQuery),jQuery(function(){"use strict";EmojiWeather.init()});